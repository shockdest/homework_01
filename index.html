<!DOCTYPE html>
<html>
  <head>
    <title>Contact</title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body> 

    <div class="contact-card">
      <div class="contact-content contact-border">
        <h2>Talk to a member of our Sales team</h2>
        <p>We’ll help you find the right products and pricing for your business.</p>
        <hr>
        <button id="myBtn" class="button">Contact Sales</button>
      </div>
    </div>

<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
      <h2 class="contact-title">Contact sales</h2>
    <div class="modal-body">
      <p>Let’s get this conversation started. Tell us a bit about yourself, and we’ll get in touch as soon as we can.</p>

      <form id="form" action="/index.html">
        <div class="form-control">
          <div>
            <label for="email">Work email</label>
          </div>
          <div>
            <input type="email" id="email" placeholder="Email address">
            <i class="fas fa-check-circle"></i>
			      <i class="fas fa-exclamation-circle"></i>
			      <small>Error message</small>
          </div>
        </div>

        <div class="form-control">
          <div>
            <label for="message">Message</label>
          </div>
          <div>
            <textarea id="message" name="message" placeholder="Type here" style="height:200px"></textarea>
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
          </div>
        </div>

        <div class="form-control">
          <div class="col-50-left">
            <label for="lname">First Name</label>
          </div>
          <div class="col-50-right">
            <label for="lname">Last Name</label>
          </div>
        </div>

        <div class="form-control">
          <div class="col-50-left">
            <input type="text" id="fname" name="firstname" placeholder="Your first name">
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
          </div>
          <div class="col-50-right">
            <input type="text" id="lname" name="lastname" placeholder="Your last name">
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
          </div>
        </div>

        <div class="form-control">
          <div class="col-50-left">
            <label for="cname">Company name</label>
          </div>
          <div class="col-50-right">
            <label for="cname">Number of employees</label>
          </div>
        </div>

        <div class="form-control">
          <div class="col-50-left">
            <input type="text" id="cname" name="companyname" placeholder="Your company name">
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
          </div>
          <div class="col-50-right">

            <select type="select" id="employees" name="employees" placeholder="Select">
              <option value="volvo" selected disabled hidden>Select</option>
              <option value="volvo">5000+</option>
              <option value="saab">1000-4999</option>
              <option value="opel">500-999</option>
              <option value="audi">250-499</option>
              <option value="volvo">100-249</option>
              <option value="saab">50-99</option>
              <option value="opel">10-49</option>
              <option value="audi">1-9</option>
            </select>
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>

        </div>
      </div>
         <div class="form-control">
          <div>
            <label for="tel">Phone number</label>
          </div>
          <div>
            <input type="tel" id="phonenumber" name="phonenumber" placeholder="Type your phone number">
            <i class="fas fa-check-circle"></i>
            <i class="fas fa-exclamation-circle"></i>
            <small>Error message</small>
          </div>
        </div>

        <div class="form-control">
          <div>
            <label for="bonus"><small>Please also send me occasional emails about Zendesk products and services. (You can unsubscribe at any time.)</small></label>
          </div>
        </div>

        <div class="form-control">
          <div>
            <label class="radio-inline">
              <input type="radio" name="optradio"> Yes
            </label>
            <label class="radio-inline">
              <input type="radio" name="optradio"> No
            </label>
          </div>
        </div>
        
        <div class="form-control">
          <input class="button button__long" type="submit" value="Contact Sales">
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  // Modal beállítása JS-el
var modal = document.getElementById("myModal");

var btn = document.getElementById("myBtn");

var span = document.getElementsByClassName("close")[0];

btn.onclick = function() {
  modal.style.display = "block";
}

span.onclick = function() {
  modal.style.display = "none";
}

window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}



const form = document.getElementById('form');
const email = document.getElementById('email');
const message1 = document.getElementById('message');
const fname = document.getElementById('fname');
const lname = document.getElementById('lname');
const cname = document.getElementById('cname');
const employees = document.getElementById('employees');

form.addEventListener('submit', e => {
	e.preventDefault();
	
	checkInputs();
});

function checkInputs() {
	// trim to remove the whitespaces
	const emailValue = email.value.trim();
  const message1Value = message1.value.trim();
	const fnameValue = fname.value.trim();
	const lnameValue = lname.value.trim();
  const cnameValue = cname.value.trim();
	const employeesValue = employees.value.trim();
  const phonenumberValue = phonenumber.value.trim();

	if(emailValue === '') {
		setErrorFor(email, 'Email cannot be blank');
	} else if (!isEmail(emailValue)) {
		setErrorFor(email, 'Not a valid email');
	} else {
		setSuccessFor(email);
	}

  if(message1Value === '') {
		setErrorFor(message1, 'Message cannot be blank');
	} else {
		setSuccessFor(message1);
	}
	
	
	if(fnameValue === '') {
		setErrorFor(fname, 'First Name cannot be blank');
	} else {
		setSuccessFor(fname);
	}

  if(lnameValue === '') {
		setErrorFor(lname, 'Last Name cannot be blank');
	} else {
		setSuccessFor(lname);
	}
	
	if(cnameValue === '') {
		setErrorFor(cname, 'Company cannot be blank');
	} else{
		setSuccessFor(cname);
	}
  if(employeesValue === '') {
		setErrorFor(employees, 'You must choose one');
	} else{
		setSuccessFor(employees);
	}

  if(phonenumberValue === '') {
		setErrorFor(phonenumber, 'Phone number cannot be blank');
	} else{
		setSuccessFor(phonenumber);
	}

}

function setErrorFor(input, message) {
	const formControl = input.parentElement;
	const small = formControl.querySelector('small');
	formControl.className = 'form-control error';
	small.innerText = message;
}

function setSuccessFor(input) {
	const formControl = input.parentElement;
	formControl.className = 'form-control success';
}
	
function isEmail(email) {
	return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);
}




</script>

  </body>
</html>